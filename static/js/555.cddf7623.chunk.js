"use strict";(self.webpackChunkedunxttask=self.webpackChunkedunxttask||[]).push([[555],{4411:(e,t,l)=>{l.d(t,{A:()=>m});var s=l(5043),a=l(579);const n=e=>{let{columns:t,toggleColumn:l}=e;return(0,a.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,a.jsx)("label",{children:(0,a.jsx)("strong",{children:"Toggle Columns:"})}),(0,a.jsx)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginTop:"5px"},children:t.map(e=>"actions"!==e.key&&(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:e.visible,onChange:()=>l(e.key),disabled:1===t.filter(e=>e.visible).length&&e.visible}),e.label]},e.key))})]})};var i=l(7762),r=l(4857),o=l(184),c=l(9698);const d=e=>{let{data:t,columns:l}=e;return(0,a.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,a.jsxs)("button",{onClick:()=>function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"export.csv";const s=t.filter(e=>e.visible&&!1!==e.exportable),a=s.map(e=>e.label),n=e.map(e=>s.map(t=>{const l=e[t.key];return t.format?t.format(l):l}));let i=[a.join(","),...n.map(e=>e.join(","))].join("\n");const r=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a");o.href=URL.createObjectURL(r),o.download=l,o.click()}(t,l),children:["Export CSV   ",(0,a.jsx)(o.Ru,{style:{color:"green"}})]}),(0,a.jsxs)("button",{onClick:()=>function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"export.json";const s=t.filter(e=>e.visible&&!1!==e.exportable),a=e.map(e=>{const t={};return s.forEach(l=>{t[l.label]=l.format?l.format(e[l.key]):e[l.key]}),t}),n=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.download=l,i.click()}(t,l),children:["Export JSON ",(0,a.jsx)(c.U6F,{})]}),(0,a.jsxs)("button",{onClick:()=>((e,t)=>{const l=new i.Ay,s=t.filter(e=>!1!==e.exportable&&!1!==e.visible),a=s.map(e=>e.label),n=e.map(e=>s.map(t=>e[t.key]));(0,r.Ay)(l,{head:[a],body:n,startY:20,styles:{fontSize:10},headStyles:{fillColor:[59,130,246]}}),l.save("table_data.pdf")})(t,l),children:["Export PDF  ",(0,a.jsx)(o.uNb,{style:{color:"red"}})]})]})},m=e=>{let{columns:t,data:l=[],isLoading:i=!1,error:r=null,toggleColumn:o,title:c}=e;const[m,u]=(0,s.useState)({key:null,direction:"asc"}),[h,p]=(0,s.useState)(""),[x,b]=(0,s.useState)(1),[j,g]=(0,s.useState)(10),y=(0,s.useMemo)(()=>t.filter(e=>!1!==e.visible),[t]),k=(0,s.useMemo)(()=>{if(!m.key)return l;return[...l].sort((e,t)=>{const l=e[m.key],s=t[m.key];return"number"===typeof l&&"number"===typeof s?"asc"===m.direction?l-s:s-l:"asc"===m.direction?String(l).localeCompare(String(s)):String(s).localeCompare(String(l))})},[l,m]),v=(0,s.useMemo)(()=>k.filter(e=>y.some(t=>String(e[t.key]).toLowerCase().includes(h.toLowerCase()))),[k,h,y]),f=(0,s.useMemo)(()=>{const e=(x-1)*j;return v.slice(e,e+j)},[v,x,j]),C=Math.ceil(v.length/j);return i?(0,a.jsx)("p",{children:"Loading..."}):r?(0,a.jsxs)("p",{children:["Error: ",r]}):l.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"innerheader",children:(0,a.jsx)("h1",{children:c})}),(0,a.jsxs)("div",{className:"table-toolbar",children:[(0,a.jsx)("div",{className:"toolbar-section",children:(0,a.jsx)("input",{type:"text",placeholder:"Search...",value:h,onChange:e=>p(e.target.value),className:"search-input"})}),(0,a.jsx)("div",{className:"toolbar-section column-toggle",children:(0,a.jsx)(n,{columns:t,toggleColumn:o})}),(0,a.jsx)("div",{className:"toolbar-section export-buttons",children:(0,a.jsx)(d,{data:l,columns:t})})]}),(0,a.jsxs)("div",{className:"datatable",children:[(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:y.map(e=>(0,a.jsxs)("th",{onClick:()=>e.sortable&&(e=>{let t="asc";m.key===e&&"asc"===m.direction&&(t="desc"),u({key:e,direction:t})})(e.key),children:[e.label,m.key===e.key&&("asc"===m.direction?" \u25b2":" \u25bc")]},e.key))})}),(0,a.jsx)("tbody",{children:f.map((e,t)=>(0,a.jsx)("tr",{children:y.map(t=>(0,a.jsx)("td",{children:t.render?t.render(e):t.format?t.format(e[t.key]):e[t.key]},t.key))},t))})]}),(0,a.jsxs)("nav",{className:"pagination-container",children:[(0,a.jsxs)("ul",{className:"pagination",children:[(0,a.jsx)("li",{className:"page-item",children:(0,a.jsx)("button",{className:"page-link",onClick:()=>b(e=>Math.max(e-1,1)),disabled:1===x,children:"Prev"})}),Array.from({length:C},(e,t)=>t+1).map(e=>(0,a.jsx)("li",{className:"page-item ".concat(e===x?"active":""),children:(0,a.jsx)("button",{className:"page-link",onClick:()=>b(e),children:e})},e)),(0,a.jsx)("li",{className:"page-item",children:(0,a.jsx)("button",{className:"page-link",onClick:()=>b(e=>Math.min(e+1,C)),disabled:x===C,children:"Next"})})]}),(0,a.jsxs)("div",{className:"pagination-options",children:[(0,a.jsxs)("span",{children:["Page ",x," of ",C]}),(0,a.jsx)("select",{onChange:e=>g(Number(e.target.value)),value:j,children:[10,25,50,100].map(e=>(0,a.jsxs)("option",{value:e,children:[e," per page"]},e))})]})]})]})]}):(0,a.jsx)("p",{children:"No data available"})}},5555:(e,t,l)=>{l.r(t),l.d(t,{default:()=>c});var s=l(9379),a=l(5043),n=l(4411),i=l(9722),r=l(579);const o=[{key:"id",label:"ID",sortable:!0,visible:!0},{key:"name",label:"Name",sortable:!0,visible:!0},{key:"email",label:"Email",sortable:!1,visible:!0},{key:"actions",label:"Actions",render:e=>(0,r.jsx)("button",{onClick:()=>alert("User ID: ".concat(e.id)),className:"btn btn-success btn-sm",children:"View"}),visible:!0}],c=()=>{const[e,t]=(0,a.useState)([]),[l,c]=(0,a.useState)(o),[d,m]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{const e=await i.A.get("https://jsonplaceholder.typicode.com/users");t(e.data),m(!1)}catch(u){t([]),h(u.message),m(!1)}})()},[]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.A,{columns:l,data:e,isLoading:d,error:u,toggleColumn:e=>{c(t=>t.map(t=>t.key===e?(0,s.A)((0,s.A)({},t),{},{visible:!t.visible}):t))},title:"Users List"})})}}}]);
//# sourceMappingURL=555.cddf7623.chunk.js.map