"use strict";(self.webpackChunkedunxttask=self.webpackChunkedunxttask||[]).push([[679],{2679:(e,t,l)=>{l.r(t),l.d(t,{default:()=>c});var a=l(9379),s=l(5043),n=l(4411),r=l(9722),i=l(579);const o=[{key:"id",label:"ID",sortable:!0,filterable:!0,exportable:!0,visible:!0},{key:"title",label:"Title",sortable:!0,filterable:!0,exportable:!0,visible:!0},{key:"price",label:"Price",sortable:!0,filterable:!1,exportable:!0,visible:!0,format:e=>"$".concat(e)},{key:"stock",label:"Stock",sortable:!0,filterable:!1,exportable:!0,visible:!0},{key:"category",label:"Category",sortable:!0,filterable:!0,exportable:!0,visible:!0},{key:"actions",label:"Actions",render:e=>(0,i.jsx)("button",{onClick:()=>alert("Product ID: ".concat(e.id)),className:"btn btn-success btn-sm",children:"View"}),visible:!0}],c=()=>{const[e,t]=(0,s.useState)([]),[l,c]=(0,s.useState)(o),[d,m]=(0,s.useState)(!0),[b,u]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{try{const e=await r.A.get("https://dummyjson.com/products");t(e.data.products),m(!1)}catch(b){t([]),u(b.message),m(!1)}})()},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.A,{columns:l,data:e,isLoading:d,error:b,toggleColumn:e=>{c(t=>t.map(t=>t.key===e?(0,a.A)((0,a.A)({},t),{},{visible:!t.visible}):t))},title:"Products Table"})})}},4411:(e,t,l)=>{l.d(t,{A:()=>m});var a=l(5043),s=l(579);const n=e=>{let{columns:t,toggleColumn:l}=e;return(0,s.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,s.jsx)("label",{children:(0,s.jsx)("strong",{children:"Toggle Columns:"})}),(0,s.jsx)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginTop:"5px"},children:t.map(e=>"actions"!==e.key&&(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:e.visible,onChange:()=>l(e.key),disabled:1===t.filter(e=>e.visible).length&&e.visible}),e.label]},e.key))})]})};var r=l(7762),i=l(4857),o=l(184),c=l(9698);const d=e=>{let{data:t,columns:l}=e;return(0,s.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,s.jsxs)("button",{onClick:()=>function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"export.csv";const a=t.filter(e=>e.visible&&!1!==e.exportable),s=a.map(e=>e.label),n=e.map(e=>a.map(t=>{const l=e[t.key];return t.format?t.format(l):l}));let r=[s.join(","),...n.map(e=>e.join(","))].join("\n");const i=new Blob([r],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a");o.href=URL.createObjectURL(i),o.download=l,o.click()}(t,l),children:["Export CSV   ",(0,s.jsx)(o.Ru,{style:{color:"green"}})]}),(0,s.jsxs)("button",{onClick:()=>function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"export.json";const a=t.filter(e=>e.visible&&!1!==e.exportable),s=e.map(e=>{const t={};return a.forEach(l=>{t[l.label]=l.format?l.format(e[l.key]):e[l.key]}),t}),n=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=l,r.click()}(t,l),children:["Export JSON ",(0,s.jsx)(c.U6F,{})]}),(0,s.jsxs)("button",{onClick:()=>((e,t)=>{const l=new r.Ay,a=t.filter(e=>!1!==e.exportable&&!1!==e.visible),s=a.map(e=>e.label),n=e.map(e=>a.map(t=>e[t.key]));(0,i.Ay)(l,{head:[s],body:n,startY:20,styles:{fontSize:10},headStyles:{fillColor:[59,130,246]}}),l.save("table_data.pdf")})(t,l),children:["Export PDF  ",(0,s.jsx)(o.uNb,{style:{color:"red"}})]})]})},m=e=>{let{columns:t,data:l=[],isLoading:r=!1,error:i=null,toggleColumn:o,title:c}=e;const[m,b]=(0,a.useState)({key:null,direction:"asc"}),[u,p]=(0,a.useState)(""),[x,h]=(0,a.useState)(1),[j,g]=(0,a.useState)(10),y=(0,a.useMemo)(()=>t.filter(e=>!1!==e.visible),[t]),k=(0,a.useMemo)(()=>{if(!m.key)return l;return[...l].sort((e,t)=>{const l=e[m.key],a=t[m.key];return"number"===typeof l&&"number"===typeof a?"asc"===m.direction?l-a:a-l:"asc"===m.direction?String(l).localeCompare(String(a)):String(a).localeCompare(String(l))})},[l,m]),v=(0,a.useMemo)(()=>k.filter(e=>y.some(t=>String(e[t.key]).toLowerCase().includes(u.toLowerCase()))),[k,u,y]),f=(0,a.useMemo)(()=>{const e=(x-1)*j;return v.slice(e,e+j)},[v,x,j]),C=Math.ceil(v.length/j);return r?(0,s.jsx)("p",{children:"Loading..."}):i?(0,s.jsxs)("p",{children:["Error: ",i]}):l.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"innerheader",children:(0,s.jsx)("h1",{children:c})}),(0,s.jsxs)("div",{className:"table-toolbar",children:[(0,s.jsx)("div",{className:"toolbar-section",children:(0,s.jsx)("input",{type:"text",placeholder:"Search...",value:u,onChange:e=>p(e.target.value),className:"search-input"})}),(0,s.jsx)("div",{className:"toolbar-section column-toggle",children:(0,s.jsx)(n,{columns:t,toggleColumn:o})}),(0,s.jsx)("div",{className:"toolbar-section export-buttons",children:(0,s.jsx)(d,{data:l,columns:t})})]}),(0,s.jsxs)("div",{className:"datatable",children:[(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:y.map(e=>(0,s.jsxs)("th",{onClick:()=>e.sortable&&(e=>{let t="asc";m.key===e&&"asc"===m.direction&&(t="desc"),b({key:e,direction:t})})(e.key),children:[e.label,m.key===e.key&&("asc"===m.direction?" \u25b2":" \u25bc")]},e.key))})}),(0,s.jsx)("tbody",{children:f.map((e,t)=>(0,s.jsx)("tr",{children:y.map(t=>(0,s.jsx)("td",{children:t.render?t.render(e):t.format?t.format(e[t.key]):e[t.key]},t.key))},t))})]}),(0,s.jsxs)("nav",{className:"pagination-container",children:[(0,s.jsxs)("ul",{className:"pagination",children:[(0,s.jsx)("li",{className:"page-item",children:(0,s.jsx)("button",{className:"page-link",onClick:()=>h(e=>Math.max(e-1,1)),disabled:1===x,children:"Prev"})}),Array.from({length:C},(e,t)=>t+1).map(e=>(0,s.jsx)("li",{className:"page-item ".concat(e===x?"active":""),children:(0,s.jsx)("button",{className:"page-link",onClick:()=>h(e),children:e})},e)),(0,s.jsx)("li",{className:"page-item",children:(0,s.jsx)("button",{className:"page-link",onClick:()=>h(e=>Math.min(e+1,C)),disabled:x===C,children:"Next"})})]}),(0,s.jsxs)("div",{className:"pagination-options",children:[(0,s.jsxs)("span",{children:["Page ",x," of ",C]}),(0,s.jsx)("select",{onChange:e=>g(Number(e.target.value)),value:j,children:[10,25,50,100].map(e=>(0,s.jsxs)("option",{value:e,children:[e," per page"]},e))})]})]})]})]}):(0,s.jsx)("p",{children:"No data available"})}}}]);
//# sourceMappingURL=679.b773643f.chunk.js.map